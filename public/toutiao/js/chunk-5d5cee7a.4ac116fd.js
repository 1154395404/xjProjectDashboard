(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d5cee7a"],{"221a":function(t,e,a){},"230c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-container"},[a("van-nav-bar",{staticClass:"page-nav-bar",attrs:{"left-arrow":"",title:"头条"},on:{"click-left":function(e){return t.$router.back()}}}),a("div",{staticClass:"main-wrap"},[t.isLoading?a("div",{staticClass:"loading-wrap"},[a("van-loading",{attrs:{color:"#3296fa",vertical:""}},[t._v("加载中 ")])],1):t.article.title?a("div",{staticClass:"article-detail"},[a("h1",{staticClass:"article-title"},[t._v(t._s(t.article.title))]),a("van-cell",{staticClass:"user-info",attrs:{center:"",border:!1}},[a("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",fit:"cover",src:t.article.aut_photo},slot:"icon"}),a("div",{staticClass:"user-name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.article.aut_name))]),a("div",{staticClass:"publish-date",attrs:{slot:"label"},slot:"label"},[t._v(t._s(t._f("relevantTime")(t.article.pubdate)))]),a("Follow",{staticClass:"follow-btn",attrs:{isFollow:t.article.is_followed,autId:t.article.aut_id},on:{"update:isFollow":function(e){return t.$set(t.article,"is_followed",e)},"update:is-follow":function(e){return t.$set(t.article,"is_followed",e)}}})],1),a("div",{staticClass:"article-content markdown-body",domProps:{innerHTML:t._s(t.article.content)}}),a("van-divider",[t._v("正文结束")]),a("CommentList")],1):404===t.statusCode?a("div",{staticClass:"error-wrap"},[a("van-icon",{attrs:{name:"failure"}}),a("p",{staticClass:"text"},[t._v("该资源不存在或已删除！")])],1):a("div",{staticClass:"error-wrap"},[a("van-icon",{attrs:{name:"failure"}}),a("p",{staticClass:"text"},[t._v("内容加载失败！")]),a("van-button",{staticClass:"retry-btn",on:{click:t.loadArticle}},[t._v("点击重试")])],1)]),t.article.title?a("div",{staticClass:"article-bottom"},[a("van-button",{staticClass:"comment-btn",attrs:{type:"default",round:"",size:"small"}},[t._v("写评论 ")]),a("van-icon",{attrs:{name:"comment-o",info:"123",color:"#777"}}),a("Collection",{attrs:{isCollection:t.article.is_collected,articleId:t.article.art_id},on:{"update:isCollection":function(e){return t.$set(t.article,"is_collected",e)},"update:is-collection":function(e){return t.$set(t.article,"is_collected",e)}}}),a("Like",{attrs:{attitude:t.article.attitude,articleId:t.article.art_id},on:{"update:attitude":function(e){return t.$set(t.article,"attitude",e)}}}),a("van-icon",{attrs:{name:"share",color:"#777777"}})],1):t._e()],1)},r=[],c=a("c7eb"),i=a("1da1"),o=a("b775"),s=function(t){return Object(o["a"])({method:"get",url:"/v1_0/articles/"+t})},l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isFollow?a("van-button",{attrs:{round:"",size:"small",loading:t.loading},on:{click:t.unFollowHandle}},[t._v("已关注 ")]):a("van-button",{attrs:{type:"info",color:"#3296fa",round:"",size:"small",icon:"plus",loading:t.loading},on:{click:t.addFollowHandle}},[t._v("关注 ")])},u=[],d=(a("a9e3"),function(t){return Object(o["a"])({method:"POST",url:"/v1_0/user/followings",data:{target:t}})}),f=function(t){return Object(o["a"])({method:"DELETE",url:"/v1_0/user/followings/".concat(t)})},p={name:"Follow",components:{},props:{isFollow:Boolean,autId:[Number,String]},data:function(){return{loading:!1}},methods:{unFollowHandle:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,f(t.autId);case 4:a=e.sent,a.data,t.$emit("update:isFollow",!1),t.$toast.success("取关成功"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.fail("取关失败");case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},addFollowHandle:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,d(t.autId);case 4:a=e.sent,a.data,t.$emit("update:isFollow",!0),t.$toast.success("关注成功"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.fail("关注失败");case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},computed:{},watch:{},created:function(){},mounted:function(){}},v=p,m=a("2877"),b=Object(m["a"])(v,l,u,!1,null,"5ca3bf04",null),h=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-icon",{class:{isLike:1===t.attitude},attrs:{color:"#777",name:-1===t.attitude?"good-job-o":"good-job"},on:{click:t.like}})},w=[],g=function(t){return Object(o["a"])({method:"POST",url:"/v1_0/article/likings",data:{target:t}})},k=function(t){return Object(o["a"])({method:"DELETE",url:"/v1_0/article/likings/".concat(t)})},C={name:"Like",components:{},props:["articleId","attitude"],data:function(){return{loading:!1}},methods:{like:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$toast.loading("请等待"),-1!=t.attitude){e.next=14;break}return e.prev=2,e.next=5,g(t.articleId);case 5:t.$toast.success("喜欢成功"),t.$emit("update:attitude",1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.$toast.fail("喜欢失败");case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,k(t.articleId);case 17:t.$toast.success("已取消喜欢"),t.$emit("update:attitude",-1),e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](14),t.$toast.fail("取消喜欢失败");case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})))()}},computed:{},watch:{},created:function(){},mounted:function(){}},x=C,O=(a("53e2"),Object(m["a"])(x,_,w,!1,null,"44096718",null)),$=O.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-icon",{class:{isLike:t.isCollection},attrs:{color:"#777",name:t.isCollection?"star":"star-o"},on:{click:t.like}})},j=[],E=function(t){return Object(o["a"])({method:"POST",url:"/v1_0/article/collections",data:{target:t}})},N=function(t){return Object(o["a"])({method:"DELETE",url:"/v1_0/article/collections/".concat(t)})},F={name:"Collection",components:{},props:["articleId","isCollection"],data:function(){return{loading:!1}},methods:{like:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$toast.loading("请等待"),t.isCollection){e.next=14;break}return e.prev=2,e.next=5,E(t.articleId);case 5:t.$toast.success("收藏成功"),t.$emit("update:isCollection",!0),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.$toast.fail("收藏失败");case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,N(t.articleId);case 17:t.$toast.success("已取消收藏"),t.$emit("update:isCollection",!1),e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](14),t.$toast.fail("取消收藏失败");case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})))()}},computed:{},watch:{},created:function(){},mounted:function(){}},L=F,T=(a("8161"),Object(m["a"])(L,I,j,!1,null,"9b9cdb58",null)),A=T.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CommentList-container"},[a("h1",[t._v("comment")])])}],P={name:"CommentList",components:{},props:[],data:function(){return{}},methods:{},computed:{},watch:{},created:function(){},mounted:function(){}},D=P,H=Object(m["a"])(D,S,y,!1,null,"b0ef2846",null),M=H.exports,R=(a("fe97"),{name:"Article",components:{Follow:h,Like:$,Collection:A,CommentList:M},props:["articleID"],data:function(){return{isLoading:!0,statusCode:200,article:{}}},methods:{loadArticle:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){var a,n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t.articleID);case 3:a=e.sent,n=a.data.data,t.article=n,t.isLoading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),t.statusCode=e.t0.response.status;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},computed:{},watch:{},created:function(){this.loadArticle()},mounted:function(){}}),V=R,z=(a("9967"),Object(m["a"])(V,n,r,!1,null,"1c634754",null));e["default"]=z.exports},"408a":function(t,e,a){var n=a("e330");t.exports=n(1..valueOf)},"53e2":function(t,e,a){"use strict";a("e74d")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("e330"),r=a("1d80"),c=a("577e"),i=a("5899"),o=n("".replace),s="["+i+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t){return function(e){var a=c(r(e));return 1&t&&(a=o(a,l,"")),2&t&&(a=o(a,u,"")),a}};t.exports={start:d(1),end:d(2),trim:d(3)}},8161:function(t,e,a){"use strict";a("f322")},9967:function(t,e,a){"use strict";a("221a")},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),c=a("e330"),i=a("94ca"),o=a("cb2d"),s=a("1a2d"),l=a("7156"),u=a("3a9b"),d=a("d9b5"),f=a("c04e"),p=a("d039"),v=a("241c").f,m=a("06cf").f,b=a("9bf2").f,h=a("408a"),_=a("58a8").trim,w="Number",g=r[w],k=g.prototype,C=r.TypeError,x=c("".slice),O=c("".charCodeAt),$=function(t){var e=f(t,"number");return"bigint"==typeof e?e:I(e)},I=function(t){var e,a,n,r,c,i,o,s,l=f(t,"number");if(d(l))throw C("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=_(l),e=O(l,0),43===e||45===e){if(a=O(l,2),88===a||120===a)return NaN}else if(48===e){switch(O(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(c=x(l,2),i=c.length,o=0;o<i;o++)if(s=O(c,o),s<48||s>r)return NaN;return parseInt(c,n)}return+l};if(i(w,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var j,E=function(t){var e=arguments.length<1?0:g($(t)),a=this;return u(k,a)&&p((function(){h(a)}))?l(Object(e),a,E):e},N=n?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),F=0;N.length>F;F++)s(g,j=N[F])&&!s(E,j)&&b(E,j,m(g,j));E.prototype=k,k.constructor=E,o(r,w,E,{constructor:!0})}},e74d:function(t,e,a){},f322:function(t,e,a){},fe97:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5d5cee7a.4ac116fd.js.map